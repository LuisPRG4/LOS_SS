<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Los SS - Novedades</title>

    <link rel="icon" type="image/png" href="fav/los ss.png">

    <link rel="manifest" href="manifest.json">

    <link rel="stylesheet" href="css/style.css" />
    <link rel="stylesheet" href="css/novedades.css" />
    <link rel="stylesheet" href="css/chatbot-ayuda.css" />

</head>
<body>
    <div id="toastContainer" class="toast-container"> </div>

    <header class="header-elegante">
        <div class="header-container">
            <img src="logo/LOS SS.png" alt="Logo" class="logo-libre" />
            <div class="texto-header">
                <h1 class="titulo-header">‚ú® Novedades</h1>
                <p class="descripcion-header">Mantente al tanto de las √∫ltimas mejoras, caracter√≠sticas y cambios en el sistema.</p>
            </div>
        </div>
    </header>

    <nav>
        <div class="menu-toggle" onclick="toggleMenu()">‚ò∞</div>
        <ul id="navMenu">
            <li><a href="index.html">üè† Inicio</a></li>
            <li><a href="inventario.html">üßÉ Inventario</a></li>
            <li><a href="mermas.html">üìâ Mermas</a></li>
            <li><a href="ventas.html">üßæ Ventas</a></li>
            <li><a href="clientes.html">üë• Clientes</a></li>
            <li><a href="proveedores.html">üöö Proveedores</a></li>
            <li class="active"><a href="cuentas-por-cobrar.html">üí∏ Cuentas por Cobrar</a></li>
            <li><a href="reportesGraficos.html">üìä Reportes</a></li>
            <li><a href="finanzas.html">üí∞ Finanzas</a></li>
            <li><a href="novedades.html"> Novedades</a></li>
            <li><a href="pedidos.html">üì¶ Pedidos</a></li>
        </ul>
    </nav>

    <main>
    <section class="novedades-container">
        <h2>Novedades Est√©ticas y Experiencia de Usuario</h2>
        <div class="novedad-card novedad-estetica-especial">
            <h3 class="novedad-version">üé® Interfaz Renovada - ¬°Brillo y Usabilidad Mejorados!</h3>
            <ul class="novedad-lista">
                <li>**Navegaci√≥n Interactiva:** El texto de la barra de navegaci√≥n ahora deslumbra con un **efecto de brillo y degradado animado**, aportando dinamismo y elegancia a cada enlace.</li>
                <li>**Resaltado Inteligente:** La p√°gina activa en la barra de navegaci√≥n se **resalta autom√°ticamente**, facilitando tu orientaci√≥n y mejorando la fluidez de uso.</li>
                <li>**Iconograf√≠a Restaurada:** Se han reintegrado los √≠conos originales** en los enlaces de la barra de navegaci√≥n, a√±adiendo claridad visual y un toque familiar.</li>
                <li>**Contraste Mejorado:** Se ha optimizado el color del texto al pasar el cursor sobre los botones de navegaci√≥n para asegurar una **legibilidad impecable** en todo momento.</li>
            </ul>
        </div>

        <h2>Historial de Actualizaciones</h2>

        <div class="novedad-card novedad-destacada">
            <h3 class="novedad-version">Versi√≥n 1.4.0 - 23 de Junio, 2025</h3>
            <ul class="novedad-lista">
                <li>**Nueva Funcionalidad Mayor:** Se ha a√±adido una secci√≥n dedicada para **Exportar e Importar todos los Datos** de tu aplicaci√≥n. Ahora puedes:
                    <ul>
                        <li>**Exportar** tu inventario, clientes, pedidos, ventas, movimientos, proveedores y abonos a formatos **Excel (XLSX)**, **CSV**, **JSON** y **PDF**.</li>
                        <li>**Importar** todos tus datos previamente exportados desde un archivo **JSON**, permitiendo una restauraci√≥n o migraci√≥n completa de tu informaci√≥n.</li>
                    </ul>
                </li>
                <li>**Mejora en Finanzas:** Se ha implementado un **totalizador general para las "Ventas a Cr√©dito"**, permitiendo ver de un vistazo el monto total pendiente de cobro en esta categor√≠a.</li>
                <li>**Optimizaci√≥n:** El proceso de exportaci√≥n a Excel (XLSX) ha sido robustecido para manejar casos donde no hay datos, mostrando un mensaje claro en lugar de un error.</li>
                <li>**Experiencia de Usuario:** Se han a√±adido mensajes (Toasts) claros y visuales durante los procesos de exportaci√≥n e importaci√≥n, informando sobre el estado de la operaci√≥n.</li>
                <li>**Correcci√≥n:** Se han resuelto problemas de rutas de archivos para algunos iconos, mejorando la visualizaci√≥n general.</li>
                <li>**Preparaci√≥n para PWA:** Se ha mejorado la configuraci√≥n del Service Worker y el manifest para una futura implementaci√≥n como Aplicaci√≥n Web Progresiva, aunque se recomienda ejecutar la aplicaci√≥n en un servidor web para una funcionalidad completa.</li>
            </ul>
        </div>
        <div class="novedad-card novedad-destacada">
            <h3 class="novedad-version">Versi√≥n 1.3.0 - 22 de Junio, 2025</h3>
            <ul class="novedad-lista">
                <li>**Novedad Clave:** Se ha implementado el **sistema de abonos para las Cuentas por Cobrar**, permitiendo registrar pagos parciales de deudas de manera eficiente.</li>
                <li>**Mejora:** La secci√≥n de Cuentas por Cobrar ahora muestra las **actualizaciones de abonos y montos pendientes de forma din√°mica y en tiempo real** dentro del modal, sin necesidad de recargar la p√°gina.</li>
                <li>**Mejora:** La l√≥gica de c√°lculo del estado de pago de las ventas a cr√©dito (`Pendiente`, `Pagado Parcial`, `Pagado Total`) ha sido **refinada y automatizada** con cada abono, asegurando precisi√≥n en los reportes.</li>
                <li>**Mejora:** La **persistencia de datos** en la base de datos IndexedDB ha sido robustecida, garantizando que todos los abonos y cambios de estado se guarden de forma segura y permanente.</li>
                <li>**Funcionalidad:** Se ha a√±adido un **sistema de notificaciones (Toasts)** que proporciona feedback visual y claro sobre las acciones realizadas (√©xito, error, advertencia) en m√≥dulos como Cuentas por Cobrar.</li>
                <li>**Correcci√≥n:** Se han solucionado problemas relacionados con la **definici√≥n y disponibilidad global** de funciones utilitarias, mejorando la estabilidad del sistema.</li>
                <li>**Optimizaci√≥n:** Refuerzo en la obtenci√≥n de datos frescos de la base de datos antes de cualquier operaci√≥n de lectura o escritura, **minimizando inconsistencias**.</li>
            </ul>
        </div>

        <div class="novedad-card">
            <h3 class="novedad-version">Versi√≥n 1.2.0 - 20 de Junio, 2025</h3>
            <ul class="novedad-lista">
                <li>**Funcionalidad:** Implementaci√≥n completa de la base de datos con IndexedDB para todos los m√≥dulos (Inventario, Ventas, Finanzas, Clientes, Pedidos, Proveedores).</li>
                <li>**Mejora:** Mejoras de rendimiento significativas en la carga y guardado de datos.</li>
                <li>**Novedad:** Secci√≥n de "Novedades" agregada para mantener informados a los usuarios sobre los cambios.</li>
                <li>**Correcci√≥n:** Resuelto el problema de "ajuste" inesperado en Finanzas al registrar nuevas ventas.</li>
                <li>**Mejora:** Alertas de stock bajo en el Dashboard, ahora con umbral configurable.</li>
            </ul>
        </div>

        <div class="novedad-card">
            <h3 class="novedad-version">Versi√≥n 1.1.0 - 15 de Mayo, 2025</h3>
            <ul class="novedad-lista">
                <li>**Novedad:** Introducci√≥n del m√≥dulo de Ventas.</li>
                <li>**Mejora:** Optimizaci√≥n de la gesti√≥n de clientes y productos.</li>
                <li>**Correcci√≥n:** Peque√±os ajustes de interfaz de usuario.</li>
            </ul>
        </div>

        <div class="novedad-card">
            <h3 class="novedad-version">Versi√≥n 1.0.0 - 1 de Abril, 2025</h3>
            <ul class="novedad-lista">
                <li>**Lanzamiento Inicial:** Sistema de gesti√≥n de tienda lanzado con m√≥dulos b√°sicos de Inventario y Finanzas.</li>
                <li>**Funcionalidad:** Registro de productos, control de stock y movimientos financieros b√°sicos.</li>
            </ul>
        </div>

    </section>

    <section id="ayuda">
        <div class="h2title">      
            <h2>‚ú® M√≥dulo Novedades</h2>
        </div>
        <h3>üìñ ¬øC√≥mo funciona este m√≥dulo?</h3>
        <div class="parrafito">
            <p>
                Aqu√≠ puedes encontrar un resumen de los cambios, nuevas funcionalidades y mejoras implementadas en el sistema. Mantente informado sobre las √∫ltimas versiones.
            </p>
        </div>
        <ul>
            <li>üîπ Cada secci√≥n representa una versi√≥n o una actualizaci√≥n importante.</li>
            <li>üîπ Dentro de cada entrada, encontrar√°s una lista de los cambios espec√≠ficos, mejoras y correcciones.</li>
            <li>üîπ Revisa las versiones anteriores para ver c√≥mo ha evolucionado el sistema.</li>
        </ul>
        <button id="cerrarAyuda" onclick="novedadesCerrarAyuda()">Cerrar Ayuda</button> 
    </section>

    <div id="miniMenuLateral" class="expandido">
        <button id="btnAyudaFlotante" class="miniBoton dorado" title="Ayuda">‚ùî</button>
        <button id="btnChatbot" class="miniBoton dorado" title="Chatbot">üí¨</button>
        <button id="toggleMiniMenu" class="miniBoton dorado toggleArrow" title="Ocultar men√∫">‚û°Ô∏è</button>
    </div>

    <div id="panelChatbot">
        <button class="cerrarBtn" id="cerrarChatbot">√ó</button>
        <h3>Chatbot - Novedades</h3>
        <div id="chatbotContenido">
            <button onclick="mostrarRespuesta('queEsNovedades')">¬øQu√© es el m√≥dulo Novedades?</button>
            <button onclick="mostrarRespuesta('comoSeOrganiza')">¬øC√≥mo se organiza la informaci√≥n?</button>
            <button onclick="mostrarRespuesta('historialActualizaciones')">¬øD√≥nde veo el historial de versiones?</button>
            <button onclick="mostrarRespuesta('cambiosImportantes')">¬øC√≥mo saber si hubo cambios importantes?</button>
            <button onclick="mostrarRespuesta('ultimaVersion')">¬øC√≥mo saber cu√°l es la √∫ltima versi√≥n?</button>
            <button onclick="mostrarRespuesta('versionesAnteriores')">¬øPuedo ver qu√© hab√≠a en versiones anteriores?</button>
        </div>
        <div id="respuestaChatbot" style="margin-top: 10px;"></div>
    </div>
</main>

    <script src="js/db.js"></script>
    <script src="js/script.js"></script> 
    <script src="js/novedades.js"></script>
    <script src="js/nav-highlighter.js" defer></script>
    <script src="js/chatbot-ayuda.js" defer></script>
    
    <script>
       // document.addEventListener('DOMContentLoaded', () => {
            // if (sessionStorage.getItem("sesionIniciada") !== "true") {
            //    window.location.href = "login.html";
            //}
        //});

        // function cerrarSesion() {
        //   sessionStorage.removeItem("sesionIniciada");
        //   window.location.href = "login.html";
        // } 

        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('sw.js')
                    .then(registration => {
                        console.log('Service Worker registrado con √©xito. Alcance:', registration.scope);
                    })
                    .catch(error => {
                        console.error('Fallo el registro del Service Worker:', error);
                    });
            });
        }
    </script>

    <!-- <div id="button" class="button-sesion">
        <button onclick="cerrarSesion()">Cerrar sesi√≥n</button>
    </div> -->

</body>
</html>
